{"is_source_file": true, "format": "Kotlin", "description": "This file contains the implementation of a repository class `NotesSqlRepository` that interacts with an SQLite database to perform CRUD operations on notes within a note-taking application. It utilizes Android-specific APIs such as ContentValues, SQLiteDatabase, LiveData, and coroutines for asynchronous database operations.", "external_files": ["org/example/notes/model/Note", "android.content.ContentValues", "android.content.Context", "androidx.lifecycle.LiveData", "androidx.lifecycle.MutableLiveData", "kotlinx.coroutines.Dispatchers", "kotlinx.coroutines.withContext"], "external_methods": ["NotesOpenHelper.readableDatabase", "NotesOpenHelper.writableDatabase", "SQLiteDatabase.query", "SQLiteDatabase.insert", "SQLiteDatabase.update", "SQLiteDatabase.delete", "System.currentTimeMillis"], "published": ["NotesSqlRepository"], "classes": [{"name": "NotesSqlRepository", "description": "Repository class managing notes stored in an SQLite database, providing methods for CRUD operations, data refresh, and observable live data for UI updates."}], "methods": [{"name": "getAllLive", "description": "Returns a LiveData stream of the list of notes, allowing UI components to observe changes."}, {"name": "refresh", "description": "Fetches notes from the database, optionally filtered by a search query, and updates the live data."}, {"name": "upsert", "description": "Inserts a new note or updates an existing one, then refreshes the data; returns the note's id."}, {"name": "delete", "description": "Deletes a specified note from the database and refreshes the data."}, {"name": "getById", "description": "Retrieves a single note by its unique identifier."}], "calls": ["helper.readableDatabase", "helper.writableDatabase", "db.query", "db.insert", "db.update", "db.delete", "System.currentTimeMillis", "refresh"], "search-terms": ["NotesSqlRepository", "NotesOpenHelper", "SQLite", "notes cache", "Android database repository"], "state": 2, "file_id": 24, "knowledge_revision": 51, "git_revision": "", "hash": "a208566cce965c20a5b72337931d3f46", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/app/src/main/kotlin/org/example/notes/data/NotesSqlRepository.kt", "revision_history": [{"51": ""}]}