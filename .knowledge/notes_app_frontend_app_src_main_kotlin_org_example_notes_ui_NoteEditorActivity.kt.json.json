{"is_source_file": true, "format": "Kotlin", "description": "This file defines an Android activity class 'NoteEditorActivity' responsible for creating and editing notes. It manages UI components, interacts with a ViewModel to load, save, and delete notes, and provides UI actions such as pinning/unpinning the note.", "external_files": ["org.example.notes.R", "org.example.notes.model.Note", "android.os.Bundle", "android.view.MenuItem", "android.widget.Toolbar", "androidx.activity.ComponentActivity", "androidx.lifecycle.ViewModelProvider", "com.google.android.material.textfield.TextInputEditText"], "external_methods": ["ViewModelProvider(this)[NotesViewModel::class.java]", "findViewById(R.id.editorToolbar)", "findViewById(R.id.titleInput)", "findViewById(R.id.contentInput)", "setContentView(R.layout.activity_note_editor)", "setActionBar(toolbar)", "actionBar?.setDisplayHomeAsUpEnabled(true)", "intent.getLongExtra(EXTRA_NOTE_ID, 0L)", "getString(R.string.edit_note)", "getString(R.string.new_note)", "vm.load(currentId) { ... }", "runOnUiThread { ... }", "titleInput.setText()", "contentInput.setText()", "updatePinIcon()", "toolbar.setOnMenuItemClickListener { ... }", "finish()", "vm.delete(Note(...)) { ... }", "finish()", "updatePinIcon()", "toolbar.menu.findItem(R.id.action_pin)", "getString(R.string.unpin)", "getString(R.string.pin)", "android.R.drawable.btn_star_big_on", "android.R.drawable.btn_star_big_off", "vm.save(note) { ... }", "getString(R.string.extra_note_id)", "super.onOptionsItemSelected(item)"], "published": ["EXTRA_NOTE_ID"], "classes": [{"name": "NoteEditorActivity", "description": "Activity for creating or editing a note, with UI components and menu actions."}], "methods": [{"name": "onCreate", "description": "Initializes the activity, sets up UI components, loads note if editing, and sets menu action listeners."}, {"name": "onOptionsItemSelected", "description": "Handles menu item selections, e.g., navigating up."}, {"name": "updatePinIcon", "description": "Updates the pin/unpin icon based on current pinned state."}, {"name": "saveNoteAndFinish", "description": "Saves the note via ViewModel and finishes the activity."}], "calls": ["ViewModelProvider(this)[NotesViewModel::class.java]", "findViewById(R.id.editorToolbar)", "findViewById(R.id.titleInput)", "findViewById(R.id.contentInput)", "setContentView(R.layout.activity_note_editor)", "setActionBar(toolbar)", "actionBar?.setDisplayHomeAsUpEnabled(true)", "intent.getLongExtra(EXTRA_NOTE_ID, 0L)", "runOnUiThread { ... }", "note?.let { ... }", "titleInput.setText(it.title)", "contentInput.setText(it.content)", "pinned = it.pinned", "updatePinIcon()", "toolbar.setOnMenuItemClickListener { ... }", "finish()", "vm.delete(Note(...)) { ... }", "vm.save(note) { ... }"], "search-terms": ["NoteEditorActivity", "create/edit note", "pin toggle", "save note", "delete note", "Android activity", "NotesViewModel", "UI interaction", "note ID", "edit mode"], "state": 2, "file_id": 18, "knowledge_revision": 57, "git_revision": "", "revision_history": [{"39": ""}, {"45": ""}, {"54": ""}, {"57": ""}], "hash": "548a7b98475849d4f2963104e86b2824", "format-version": 4, "code-base-name": "notes_app_frontend", "filename": "notes_app_frontend/app/src/main/kotlin/org/example/notes/ui/NoteEditorActivity.kt"}